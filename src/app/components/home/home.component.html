<div class="page-content overflow-auto" [hidden]="currentTab !== 'Map'">

  <div #mapEl class="w-100 h-100"></div>
  <div #mapPopupEl class="map-popup">
    <h5>{{csvData.features[selectedIndex]?.properties?.Area}}</h5>
    <h6>
      State: {{csvData.features[selectedIndex]?.properties?.State}}
    </h6>
    <h7>
      Infrastructure type: {{csvData.features[selectedIndex]?.properties?.Type_of_Infrastructure}}
    </h7><br>
    <h7>
      Area covered: {{csvData.features[selectedIndex]?.properties?.Area_to_be_cleared_in_ha}} ha
    </h7><br>
    <h7>
      Agency: {{csvData.features[selectedIndex]?.properties?.Agency}}
    </h7>
  </div>
</div>

<ngb-carousel #carousel class="page-content w-100" [hidden]="currentTab !== 'Stories'"
    [showNavigationIndicators]="'true'"
    (slide)="onSlide($event)">
    <ng-template ngbSlide *ngFor="let record of csvData.features; index as i">
      <div class="row justify-content-center page-content overflow-auto bg-dark text-white">
        <div class="col-8">
          <h3>{{csvData.features[selectedIndex]?.properties?.Area}}</h3>
          <h5>
            {{csvData.features[selectedIndex]?.properties?.State}} - 
            {{csvData.features[selectedIndex]?.properties?.Proposed_Project}}
          </h5>
          <hr class="border border-white m-0">
          {{record.properties?.Story}}
        </div>
      </div>
    </ng-template>
</ngb-carousel>

<nav class="nav nav-tabs nav-fill bg-primary text-white nav-bar-size footer">
  <a class="nav-item nav-link" role="button"
    *ngIf="currentTab === 'Map'"
    (click)="goToStoryTab()">
    Go to story details
  </a>
  <a class="nav-item nav-link" role="button"
    *ngIf="currentTab === 'Stories'"
    (click)="goToMapTab()">
    View in Map
  </a>
</nav>
  